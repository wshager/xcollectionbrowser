//>>built
define("dforma/LookupList","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/store/Memory dojo/store/Observable dforma/util/i18n dijit/form/_FormValueWidget dijit/_Contained dijit/_Container dijit/_TemplatedMixin dgrid/OnDemandGrid dgrid/Selection dgrid/extensions/DnD dgrid/extensions/DijitRegistry dijit/form/Button dijit/form/FilteringSelect".split(" "),function(d,x,y,e,h,k,l,m,n,p,q,r,s,t,u,v,f,w){return d("dforma.LookupList",[n,p,q,r],{templateString:'\x3cdiv class\x3d"dijit dijitReset" data-dojo-attach-point\x3d"focusNode" aria-labelledby\x3d"${id}_label"\x3e\x3cdiv class\x3d"dijitReset dijitHidden dformaListHint" data-dojo-attach-point\x3d"hintNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"dijitReset dijitHidden dformaListMessage" data-dojo-attach-point\x3d"messageNode"\x3e\x3c/div\x3e\x3c/div\x3e',
store:null,_setHintAttr:function(a){this._set("hint",a);this.hintNode.innerHTML=a;h.toggle(this.hintNode,"dijitHidden",!this.hint)},destroyRecursive:function(){this.select.destroyRecursive();this.addButton.destroyRecursive();this.grid.destroy();this.inherited(arguments)},_getValueAttr:function(){return this.store.query({__selected:!0}).map(function(a){return a.name})},_setValueAttr:function(a){a.forEach(function(b){var a=this.store.query({name:b}).pop();a||(a={name:b});a.__selected=!0;(!(this.schema["enum"]instanceof
Array)||0<this.schema["enum"].indexOf(b))&&this.store.put(a)})},postCreate:function(){var a=m.load("dforma","common"),b=this,c=new k;this.schema["enum"]instanceof Array&&this.schema["enum"].forEach(function(g){var a=b.value.indexOf(g);c.add({name:g,__selected:0<a})});this.store=new l(c);this.grid=new (d([s,t,u,v],{columns:{summary:{field:"name",label:this.label,sortable:!0,renderCell:function(a,d,c){c.appendChild(e.create("span",{"class":"dformaLookupListItemLabel",innerHTML:a.name}));a=new f({rowId:a.id,
label:"Delete",onClick:function(){var a=b.store.get(this.rowId);a.__selected=!1;b.store.put(a)}},c.appendChild(e.create("span")));a._destroyOnRemove=!0;return a}}}}))({sort:"name",store:this.store,query:{__selected:!0},showFooter:!0});this.addChild(this.grid);this.select=(new w({store:this.store,required:!1,autocomplete:!0,query:{__selected:!1}})).placeAt(this.grid.footerNode);this.addButton=(new f({label:a.buttonAdd,onClick:function(){var a=b.select.get("value");b.select.set("value",null);a&&(a=
b.store.get(a),a.__selected=!0,b.store.put(a))}})).placeAt(this.grid.footerNode);this.inherited(arguments)}})});
//# sourceMappingURL=LookupList.js.map