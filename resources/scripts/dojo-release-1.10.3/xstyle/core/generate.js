//>>built
define("xstyle/core/generate","xstyle/core/elemental put-selector/put xstyle/core/utils xstyle/core/expression xstyle/core/base xstyle/core/observe".split(" "),function(A,k,F,G,x,H){function I(a,s,m,k){a&&a.receive?a.receive(s,m,k):s(a)}function p(a,s){a=a.sort?a:[a];return function(m,y,r){var f=m;m._defaultBinding=!1;if(void 0===r){var h=m.childNodes,l=h[0],z;if(l){z=n.createDocumentFragment();do z.appendChild(l);while(l=h[0])}}m.content=z;for(var t=0,B=[m],h=0,l=a.length;h<l;h++){var C=d,d=a[h];
try{if(d.eachProperty)if(d.args)if("("==d.operator){var q=a[h+1];q&&q.eachProperty&&k(f,q.selector);var D=d.args.toString(),E=G(d.parent,0,D);(function(e,c){F.when(E,function(b){b.forElement&&(b=b.forElement(e));I(b,function(b){e.content=b},s,D)});if(!("_defaultBinding"in e)){e._defaultBinding=!0;var a=e.appendChild(n.createTextNode("Loading"));H.get(e,"content",function(b){if(e._defaultBinding)if(b&&b.sort)if(a&&(a.parentNode.removeChild(a),a=null),b.isSequence)p(b,d.parent)(e,y,r);else{e.innerHTML=
"";var g=c&&c.eachProperty&&c.each,g=g?p(g,c):function(b,a,e){return k(e||b,(e?"-":"")+(J[b.tagName]||"span"),""+a)},f=b.map(function(b){return g(e,b,null)});b.observe&&b.observe(function(b,a,c){if(-1<a){var d=f[a];d.parentNode.removeChild(d);f.splice(a,1)}-1<c&&f.splice(c,0,g(e,b,f[c]||null))},!0)}else b&&b.nodeType?(a&&(a.parentNode.removeChild(a),a=null),e.appendChild(b)):(b=void 0===b?"":b,e.tagName in K?(e.value=b,e["-x-variable"]=E):a.nodeValue=b)})}})(f,q)}else k(f,d.toString());else k(f,d.selector),
A.update(f,d.selector);else if("string"==typeof d){"\x3d"==d.charAt(0)&&(d=d.slice(1));var c=f,q=a[h+1],v=[];d.replace(/([,\n]+)?([\t ]+)?(\.|#)?([-\w%$|\.\#]+)(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,function(){v.push(arguments)});for(var w=0;w<v.length;w++)(function(a,d,h,b,g,l,p){function n(){var a=c._contentNode;a&&(a.innerHTML="",c=a)}h?d?(a=h.length,a>t?(n(),B[a]=c):c=B[a]||c,t=a):n():n();var u;b?u=(C&&C.args?"":"span")+b+g:(b=g.match(/^[-\w]+/)[0],(a=s.getDefinition(b))&&a.appendTo?(c=a.appendTo(c,
r),(g=g.slice(b.length))&&k(c,g)):u=g);u&&(c=k(r||c,(r?"-":"")+u));r=null;l&&c.setAttribute(l,""===p?l:p);y&&(c.item=y);(w<v.length-1||c!=f&&c!=m&&(!q||!q.base))&&A.update(c);f=c}).apply(this,v[w])}else f.appendChild(n.createTextNode(d.value))}catch(x){f.appendChild(n.createTextNode(x))}}return f}}function t(a,k){return p(k,x)(a)}var J={TABLE:"tr",TBODY:"tr",TR:"td",UL:"li",OL:"li",SELECT:"option"},K={INPUT:1,TEXTAREA:1,SELECT:1},n=document;t.forSelector=p;return t});
//# sourceMappingURL=generate.js.map